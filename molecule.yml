---
dependency:
  name: galaxy
  requirements_file: 'tests/requirements.yml'

ansible:
  playbook: 'tests/playbook.yml'
  group_vars:
    master:
      - pdns_repo_provider: 'powerdns'
        pdns_repo_branch: 'master'
    sqlite:
      - pdns_repo_provider: 'powerdns'
        pdns_repo_branch: 'master'
        pdns_backends_sqlite3_databases:
          - '/var/lib/powerdns/pdns.db'
        pdns_backends:
          gsqlite3:
            database: '/var/lib/powerdns/pdns.db'
            dnssec: yes


driver:
  name: vagrant
vagrant:
  platforms:
    - name: CentOS-7
      box: centos/7
    - name: Debian-Jessie
      box: debian/jessie64
  providers:
    - name: libvirt
      type: libvirt
      driver: qemu
      options:
        cpu_mode: 'host-passthrough'
        memory: 512
        cpus: 2
  instances:
    - name: master
      ansible_groups:
        - master
    - name: sqlite
      ansible_groups:
        - sqlite
